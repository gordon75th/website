<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>The Library of Us</title>
    <link href="https://fonts.googleapis.com/css2?family=Caveat&family=Quicksand&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #f9fdf5;
            font-family: 'Quicksand', sans-serif;
            margin: 0;
            padding: 0;
        }

        h1 {
            font-family: 'Caveat', cursive;
            font-size: 3rem;
            text-align: center;
            color: #328E6E;
            margin-top: 40px;
        }

        .bookshelf {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
            margin: 40px auto;
            max-width: 1000px;
        }

        .book-spine {
            width: 60px;
            height: 180px;
            border-radius: 4px;
            cursor: pointer;
            transition: transform 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            font-size: 1rem;
            font-family: 'Caveat', cursive;
        }

        .book-spine:hover {
            transform: scale(1.1);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-content {
            background-color: #fff;
            margin: 10% auto;
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 400px;
            text-align: center;
            color: #328E6E;
            font-family: 'Caveat', cursive;
            font-size: 1.5rem;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            animation: popup 0.3s ease;
        }

        @keyframes popup {
            0% {
                opacity: 0;
                transform: scale(0.95);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .quote-box {
            background-color: #e1eebc;
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 500px;
            margin: 30px auto;
            font-style: italic;
            color: #328e6e;
            font-family: 'Caveat', cursive;
            font-size: 1.5rem;
            text-align: center;
        }

        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: #67AE6E;
            color: white;
            padding: 10px 16px;
            border-radius: 8px;
            text-decoration: none;
            font-family: 'Caveat', cursive;
            font-size: 1.2rem;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            transition: background 0.3s;
        }

        .back-button:hover {
            background-color: #328E6E;
        }

        .noteFrom {
  width: 80%;
  max-width: 400px;
  padding: 10px 15px;
  margin-bottom: 15px;
  border: 2px solid #d4ffd2;
  border-radius: 10px;
  font-size: 1.1rem;
  font-family: 'Quicksand', sans-serif;
  background-color: #f6fff7;
  color: #444;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  transition: border-color 0.3s, box-shadow 0.3s;
}

.noteFrom:focus {
  outline: none;
  border-color: #9effb3;
  box-shadow: 0 0 8px rgba(255, 158, 188, 0.5);
}

#libNote {
  width: 80%;
  max-width: 400px;
  padding: 10px 15px;
  margin-bottom: 15px;
  border: 2px solid #d4ffd2;
  border-radius: 10px;
  font-size: 1.1rem;
  font-family: 'Quicksand', sans-serif;
  background-color: #f6fff7;
  color: #444;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  transition: border-color 0.3s, box-shadow 0.3s;
}

#libNote:focus {
  outline: none;
  border-color: #9effb3;
  box-shadow: 0 0 8px rgba(255, 158, 188, 0.5);
}

.note-btn {
  background-color: #1f572b;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  color: white;
  font-size: 1rem;
  font-family: 'Pacifico', cursive;
  cursor: pointer;
  transition: background-color 0.3s;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.note-btn:hover {
  background-color: #ff8fab;
}

    </style>
</head>

<body>
    <a href="index.html" class="back-button">‚Üê Back to Garden</a>

    <h1>The Library of Us üìö</h1>

    <div class="bookshelf">
        <script>
            const colors = ['#328E6E', '#67AE6E', '#90C67C', '#E1EEBC'];
            for (let i = 0; i < 30; i++) {
                const shade = colors[i % colors.length];
                const textColor = (shade === '#E1EEBC') ? '#328E6E' : 'white';
                document.write(
                    `<div class="book-spine" style="background:${shade}; color:${textColor}" onclick="openModal(${i})">${i + 1}</div>`
                );
            }
        </script>
    </div>
    <div class="quote-box" style="margin-top: 40px;">
        <h3>‚úçÔ∏è Leave a Note for the Library</h3>
        <input class="noteFrom" id="libFrom" placeholder="Your name..." /><br><br>
        <textarea id="libNote" rows="3" placeholder="Write a little memory, message, or moment..."></textarea><br><br>
        <button class="note-btn" onclick="addLibraryNote()">üìö Add to Library</button>
    </div>

    <div id="libraryNotes" style="margin-top: 20px;"></div>

    <script>
        const messages = [
            "Der Winterbasar h√§tte unser erstes Treffen sein k√∂nnen, aber wir haben uns einfach verpasst.",
            "25. Januar, der Tag, an dem wir uns offiziell trafen und der Funke √ºbersprang.",
            "10. Februar, der Tag, an dem ich begann, deine Aufmerksamkeit zu suchen üò∂",
            "Am 11. Februar ist dir ein Fehler unterlaufen, als du meine Story geliked hast (die du √ºbrigens sp√§ter wieder gel√∂scht hast, FRECCHH). Da keimte bei mir die Hoffnung.",
            "Am 12. Februar tauchten die ersten Paparazzi-Bilder von mir auf...",
            "14. Februar (poetisch), an dem meine Liebe wirklich begann, tiefer zu werden ‚Ä¶",
            "16th of February, you wanted to sacrifice me in a circle.. Also the day where I found out you knew that I liked you (Gurke) üëÄ",
            "16. Februar, unser erstes ‚ÄûArgument‚Äú, Nein Broo / Doch Broo..",
            "18. Februar, Hannah wegen Danyel zu mobben, hat mich so zum Lachen gebracht ‚Ä¶",
            "Am 18. Februar haben wir uns zum ersten Mal gute Nacht gesagt und jetzt kann ich nicht schlafen gehen, ohne mit dir zu reden und an dich zu denken.",
            "19. Februar, Vertrauensprobleme, weil ich nicht wei√ü, mit wem ich spreche...",
            "20. Februar, unser erstes gemeinsames Telefonat..",
            "22. Februar, die Einladung zu Hannahs Hochzeit..",
            "23. Februar, du wurdest mein Loser 1.0 <3 ü•∫",
            "27. Februar, unser erstes Treffen auf einer Br√ºcke, viele weitere werden folgen...",
            "1. M√§rz, als du mich zum ersten Mal gek√ºsst hast. Ein magischer Moment, an den ich mich immer erinnern werde üíû",
            "2. M√§rz, ich hatte das Gl√ºck, dein blaues Gesicht zu sehen üíû",
            "3. M√§rz, der Tag, an dem du in der Erde versunken bist, weil Stoner die Dinge gesagt hat, die allen √ºber uns aufgefallen sind ‚Ä¶",
            "Der 3. M√§rz, auch der Tag, an dem ich mit einem breiten L√§cheln und einem ‚ÄûA‚Äú auf der Stirn nach Hause kam üíò",
            "5. M√§rz. Der Tag, an dem sich mein Leben f√ºr immer ver√§nderte und ich zum ersten Mal deine Lippen k√ºssen durfte...",
            "Am 8. M√§rz habe ich dir das erste von vielen Geschenken gemacht und wir konnten stundenlang kuscheln und die company des anderen genie√üen ... üíû",
            "9. M√§rz, du warst f√ºr eine Woche weg. Unsere erste gemeinsame Motorradtour und der Tag, an dem wir die beiden Rosen bauen durften.",
            "Am 12. M√§rz habe ich dir die erste von vielen appreciation messages geschickt, die ich dir schreiben werde.üíò",
            "15. M√§rz, du bist zur√ºckgekommen.. Du hast mir Hubert und ein sch√∂nes Hintergrundbild f√ºr mein Handy gegeben.",
            "22. M√§rz, das erste Mal, dass du fiess warst.. üò∂",
            "23. M√§rz, unser kleines Abenteuer in Konstanz f√ºhlte sich wie Zuhause an.. üè°",
            "5. April, unser erster gemeinsamer Monat.. Wir haben 11 Stunden miteinander verbracht, die sich wie 3 angef√ºhlt haben.. üíò",
            "9. April, unser kleines Planetarium Date, wo du mit vieeleee Experten geredet hast üò∂",
            "12. April, beim Kuscheln mit dir fuehlte ich nur Waerme und Zugehoerigkeit.. Also the picnic besides the river, einfach perfekt <3",
            "14. April, Wir haben unseren ersten gemeinsamen Film angeschaut, Vaiana 2, war seeehrr... 'interesant'.. Also the time spent with you and Popcorn on the fields in the sunset was.. undescribable.."
        ];

        for (let i = 0; i < 30; i++) {
            document.write(`
        <div class="modal" id="modal-${i}">
          <div class="modal-content">
            <span class="close" onclick="closeModal(${i})">&times;</span>
            ${messages[i]}
          </div>
        </div>
      `);
        }

        function openModal(i) {
            document.getElementById('modal-' + i).style.display = "block";
        }

        function closeModal(i) {
            document.getElementById('modal-' + i).style.display = "none";
        }

        window.onclick = function (event) {
            for (let i = 0; i < 30; i++) {
                const modal = document.getElementById(`modal-${i}`);
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            }
        }
    </script>

    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-database-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDvrQH8cgKTa5naq_X-LRX2hKvwKPVdyPs",
            authDomain: "lovenotesforanika.firebaseapp.com",
            databaseURL: "https://lovenotesforanika-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "lovenotesforanika",
            storageBucket: "lovenotesforanika.appspot.com",
            messagingSenderId: "955890146894",
            appId: "1:955890146894:web:458debbf68510359bd6d1f"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function addLibraryNote() {
            const from = document.getElementById('libFrom').value.trim();
            const text = document.getElementById('libNote').value.trim();
            const time = new Date().toLocaleString();
            if (!from || !text) return;

            const note = {
                from,
                text,
                time
            };

            db.ref("libraryNotes").push(note);

            document.getElementById('libFrom').value = '';
            document.getElementById('libNote').value = '';
        }

        function loadLibraryNotes() {
            const display = document.getElementById('libraryNotes');
            db.ref("libraryNotes").on("value", (snapshot) => {
                display.innerHTML = '';
                const notes = snapshot.val();
                if (notes) {
                    Object.values(notes).forEach(note => {
                        const div = document.createElement('div');
                        div.className = 'note';
                        div.innerHTML =
                            `<strong>${note.from}</strong> <em>(${note.time})</em><br>${note.text}`;
                        display.appendChild(div);
                    });
                }
            });
        }

        loadLibraryNotes();
    </script>

</body>

</html>